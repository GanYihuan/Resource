var app=angular.module("myApp",[]).controller("myCtrl",function(a){a.cart=[{id:1000,name:"6s",quantity:1,price:1000},{id:2000,name:"6s",quantity:2,price:1000},{id:3000,name:"6s",quantity:3,price:1000},{id:4000,name:"6s",quantity:4,price:1000}];var b=function(d){var c=-1;angular.forEach(a.cart,function(f,e){if(f.id===d){c=e;return}});return c};a.add=function(d){var c=b(d);if(c!==-1){++a.cart[c].quantity}};a.reduce=function(f){var d=b(f);if(d!==-1){var e=a.cart[d];if(e.quantity>1){--e.quantity}else{var c=confirm("delete this thing?");if(c){a.remove(f)}}}};a.remove=function(d){var c=b(d);if(c!==-1){a.cart.splice(c,1)}};a.totalPrice=function(){var c=0;angular.forEach(a.cart,function(d){c+=d.quantity*d.price});return c};a.totalQuantity=function(){var c=0;angular.forEach(a.cart,function(d){c+=parseInt(d.quantity)});return c};a.$watch("cart",function(d,c){angular.forEach(d,function(g,f){if(g.quantity<1){var e=confirm("delete this thing?");if(e){a.remove(g.id)}else{g.quantity=c[f].quantity}return}})},true)});