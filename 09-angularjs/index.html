<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div ng-app="myApp">
    <div ng-controller="myCtrl">
        <ul>
            <li ng-repeat="user in data | filterCity">
                {{user.name}}
                {{user.age}}
                {{user.city}}
            </li>
        </ul>
    </div>
</div>

<script src="vendor/angular/angular.min.js"></script>
<script>
    var app = angular.module('myApp',[])

            .factory('Data',function () {
                return{
                    message:'hello',
                    city:[
                        {name:'shanghai',py:'xiaolongbao'},
                        {name:'beijing',py:'kaoya'}
                    ]
                }
            })

            .controller('myCtrl',function ($scope, Data, $filter) {
                $scope.data = Data;
                $scope.today = new Date();
                $scope.checkName = function (obj) {
                    if(obj.py.indexOf('h') === -1){
                        return false;
                    }
                    return true;
                };

                var number = $filter('number')(3000);
                var jsonString = $filter('json')($scope.data);
                console.log(jsonString);
            });
</script>

</body>
</html>