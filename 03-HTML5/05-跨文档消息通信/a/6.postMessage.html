<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <script>
      window.onload = function() {
        var oBtn = document.getElementById('btn')
        var oMyIframe = document.getElementById('myframe')

        /*
          postMessage : 可以通过这个方法给另外一个窗口发送信息
          接收消息的窗口的window对象.postMessage();
        */

        oBtn.onclick = function() {
          //当本页面和包含页面不在同一个域名下的时候，这样操作就会有跨域操作安全限制问题。

          //oMyIframe.contentWindow.document.body.style.background = 'red';

          /*
          第一个参数：发送的数据
          第二个参数：接收数据的域名｛带上协议｝
          */

          oMyIframe.contentWindow.postMessage('1', 'http://www.b.com')
          //alert(oMyIframe.contentWindow.postMessage)
        }
      }
    </script>
  </head>
  <body>
    <input type="button" value="点击我，改变2.iframe.html的背景色" id="btn" />
    <iframe id="myframe" src="http://www.b.com/3.postMessage.html"></iframe>
  </body>
</html>
